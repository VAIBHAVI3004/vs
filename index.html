<!DOCTYPE html>
<html>
<head>
  <title>Will You Be My Valentine? ğŸ’—</title>

  <style>
    body {
      height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffdee9, #ffc3d1);
      background-size: 200% 200%;
      animation: dreamyBg 12s ease infinite;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
    }

    .box {
      background: white;
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      width: 580px;
      max-width: 90vw;
      min-height: 420px;
      overflow: hidden;

    }

    h1 {
      color: #ff4d6d;
    }

    button {
      padding: 12px 25px;
      margin: 15px;
      border: none;
      border-radius: 25px;
      font-size: 18px;
      cursor: pointer;
    }

    #yes {
  background: linear-gradient(135deg, #ff4d6d, #ff758f);
  color: white;
  font-weight: bold;
  box-shadow: 0 6px 14px rgba(255, 77, 109, 0.35);
}


    #no {
  background: linear-gradient(135deg, #ffd6e0, #ffc2d1);
  color: #ff4d6d;
  font-weight: bold;
  border: 2px solid #ff9bb3;
  box-shadow: 0 4px 10px rgba(255, 105, 135, 0.25);
  transition: all 0.25s ease;
  position: relative;
  z-index: 9999;
}

  #no:hover {
  transform: scale(1.08);
  box-shadow: 0 6px 16px rgba(255, 105, 135, 0.35);
}

    .envelope {
  position: relative;
  width: 100%;
  min-height: 600px;
  height: auto;
  margin: 30px auto 0;
  background: #ffb3c6;
  border-radius: 12px;
  display: none;
  overflow: hidden;
}

.letter p {
  margin: 6px 0;
}

.flap {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #ff8fab;
  clip-path: polygon(0 0, 100% 0, 50% 50%);
  transform-origin: top;
  transition: transform 1s ease;
  z-index: 2;
}

.letter {
  position: absolute;
  bottom: -100%;
  left: 0;
  width: 100%;
  height: 100%;
  background: white;
  padding: 1px 30px 1px 30px;
  box-sizing: border-box;
  transition: bottom 1s ease;
  text-align: center;
  font-size: 18px;
}

.envelope.open .flap {
  transform: rotateX(180deg);
}

.envelope.open .letter {
  bottom: 0;
  box-shadow: 0 0 30px rgba(255,120,150,0.45);
  transform: translateY(-6px) scale(1.02);
}

/* Floating hearts & sparkles */
.float {
  position: fixed;
  top: 100vh;
  font-size: 36px;
  animation: floatUp linear infinite;
  opacity: 0.8;
  z-index: 1;
}

@keyframes floatUp {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(-100vh);
    opacity: 1;
  }
}


#valentinePic {
  width: 80%;
  max-width: 350px;
  height: auto;
  margin-top: 15px;
  border-radius: 15px;
  box-shadow: 0 6px 15px rgba(0,0,0,0.15);
  display: block;
  margin-left: auto;
  margin-right: auto;
}

#no {
  background-color: #ffd6e0;
  color: #ff4d6d;
  z-index: 9999;      /* â­ keeps it on top */
}

.letter .signature {
  font-style: italic;
  color: #a30220;
  letter-spacing: 0.5px;
}

.letter h2 {
  color: #a30220;   /* your requested color */
}

.typeText {
  font-style: italic;
}

@keyframes dreamyBg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.signature.finished {
  animation: softGlow 1.8s ease-in-out infinite alternate;
}

@keyframes softGlow {
  from { text-shadow: 0 0 4px rgba(255,90,120,0.25); }
  to   { text-shadow: 0 0 12px rgba(255,90,120,0.35); }
}



  </style>
</head>

<body>

  
  <div class="box">

  <h1 id="question">Will you be my Valentine, AgainğŸ˜? ğŸ’Œ</h1>

  <button id="yes" onclick="openEnvelope()">YES ğŸ’—</button>
  <button id="no" onmouseover="runAway()" onclick="runAway()">NO ğŸ˜¶</button>
  <img src="vday-pic.png" id="valentinePic">


  <!-- Envelope -->
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <div class="letter">
      <h2><i>My Rooh-e ğŸ’—ğŸ¤²ğŸ»</i></h2>
      <p>
        From the moment I got to know you, till today, your presence beside me has made my life absolutely dream like. Your every loud and silent "I love you" brings so much peace and happiness to my heart, I really cant thank Allah enough for you and for this beautiful love you shower on meğŸ’—ğŸ’«ğŸ¤²ğŸ».
        Truly I am the luckiest person ever to have YOU as my life partnerğŸ’.
        May Allah answer all our Duas and keep us together fid-Dunya-wal-Akhira.
        I know the stage of life you are in is so difficult,but my cutu, I know YOU CAN, I see the pottential in you!!!
        just give your best in everything ,I will be by your side through every up and every down.
        I believe in you. Give best and leave the rest on Allah!
        ANDDDD Stay the same loving, gentle, kind soul forever!!!!!!!</p>
        <p class="typeText"> May your smile grow wider and fuller, may Allah bless you with everything that your heart desires.
        Aameen ğŸ¤²ğŸ»</p> 
        <p class="typeText">Happy YOUğŸ˜ = Happy MEğŸ¥°</p>
      </p>
      <p class="typeText"> You truly are the BESTEST thing that has ever happened to me, My WorldğŸŒğŸ’«</p>
        <p class="typeText">With Love (more than this world can hold)</p>
            
      <p class="typeText signature"><b><i> - Yours Aya Afnan ğŸ’«ğŸ’— </i></b></p>
    </div>
  </div>

</div>

<audio id="bgMusic" loop>
  <source src="Tu Mileya - Darshan Raval(KoshalWorld.Com).mp3" type="audio/mpeg">
</audio>


<script>
  let chaseCount = 0;
function runAway() {
  const noBtn = document.getElementById("no");
  const box = document.querySelector(".box");

  chaseCount++;

  // â­ Stop after 5 chases
  if (chaseCount >= 3) {
    noBtn.innerText = "GotchaağŸ˜!You're stuck with me forever!!ğŸ¥°";
    noBtn.onmouseover = null;
    return;
  }

  const boxRect = box.getBoundingClientRect();

  const btnW = noBtn.offsetWidth;
  const btnH = noBtn.offsetHeight;

  noBtn.style.position = "fixed";
  noBtn.style.zIndex = "9999";

  let x, y;
  let attempts = 0;

  do {
    // keep fully inside viewport
    x = Math.random() * (window.innerWidth - btnW);
    y = Math.random() * (window.innerHeight - btnH);

    attempts++;
    if (attempts > 50) break; // safety exit
  } while (
    x + btnW > boxRect.left &&
    x < boxRect.right &&
    y + btnH > boxRect.top &&
    y < boxRect.bottom
  );

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}


  function openEnvelope() {
    document.getElementById("question").style.display = "none";
    document.getElementById("yes").style.display = "none";
    document.getElementById("no").style.display = "none";
    document.getElementById("valentinePic").style.display = "none";

    const envelope = document.getElementById("envelope");
    envelope.style.display = "block";

    setTimeout(() => {
      envelope.classList.add("open");
      startFloating();
      typeWriterEffect();
      
      const music = document.getElementById("bgMusic");
      music.currentTime = 19;   // â­ start at 19 seconds
      music.play();
    }, 300);
    
  }

  let showHeart = 0;

function startFloating() {
  setInterval(() => {
    const item = document.createElement("div");
    item.className = "float";

    // Pattern: ğŸ’— ğŸ’« ğŸ’—
    if (showHeart) {
      item.innerText = "ğŸ’«";
    } else {
      item.innerText = "ğŸ’—";
    }

    showHeart = !showHeart;

    item.style.left = Math.random() * 100 + "vw";
    item.style.animationDuration = (4 + Math.random() * 3) + "s";

    document.body.appendChild(item);

    setTimeout(() => {
      item.remove();
    }, 6000);
  }, 200);
}


function typeWriterEffect() {
  const elements = document.querySelectorAll(".typeText");

  elements.forEach((el, index) => {

    const fullText = el.textContent;   // only visible text
    const chars = Array.from(fullText); // â­ emoji-safe characters
    const isSignature = el.classList.contains("signature");

    el.textContent = "";
    el.style.whiteSpace = "pre-wrap";

    // Signature styling
    if (isSignature) {
      el.style.fontStyle = "italic";
      el.style.fontWeight = "bold";
      el.style.color = "#a30220";
    }

    let i = 0;
    const speed = isSignature ? 60 : 25;   // adjust speed here

    setTimeout(() => {

      const typing = setInterval(() => {

        // â­ stop BEFORE undefined happens
        if (i >= chars.length) {
          clearInterval(typing);

          if (isSignature) {
    el.classList.add("finished");   // â­ dreamy glow trigger
  }
          return;
        }

        el.textContent += chars[i];
        i++;

      }, speed);

    }, index * 1200); // delay between paragraphs
  });
}

const music = document.getElementById("bgMusic");

// â­ loop only between 19s and 75s (1min 15s)
music.addEventListener("timeupdate", () => {
  if (music.currentTime >= 74) {
    music.currentTime = 19;
    music.play();
  }
});



</script>


</body>
</html>
